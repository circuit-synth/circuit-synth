# Circuit-Synth Autonomous Coordinator Configuration

[coordinator]
max_concurrent_workers = 1  # Reduced from 3 to prevent resource exhaustion
poll_interval_seconds = 30
worker_timeout_hours = 2

[github]
repo_owner = "circuit-synth"
repo_name = "circuit-synth"
issue_label = "rpi-auto"  # Only process issues with this label

# ============================================================================
# PROVIDERS - CLI-based AI provider configurations
# ============================================================================

[providers.claude-cli]
enabled = true
# Command will be: cat {prompt_file} | claude -p --model {model} --output-format stream-json --verbose --dangerously-skip-permissions | tee {output_file}
command_template = [
    "bash", "-c",
    "cat '{prompt_file}' | claude -p --model '{model}' --output-format stream-json --verbose --dangerously-skip-permissions | tee '{output_file}'"
]

[providers.openrouter]
enabled = true
requires_api_key = true
api_key_env = "OPENROUTER_API_KEY"
command_template = [
    "tools/openrouter-cli.py",
    "-p", "{prompt_file}",
    "--model", "{model}",
    "--output-file", "{output_file}",
    "--output-format", "stream-json"
]

[llm]
# Default provider and model
provider = "claude-cli"
model_default = "claude-sonnet-4-5"

[worktree]
base_dir = "trees"
